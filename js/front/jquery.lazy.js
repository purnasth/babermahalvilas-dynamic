!function(t,e,n,i){t.fn.lazy=function(r){"use strict";function o(){if(E=e.devicePixelRatio>1,null!==A.defaultImage||null!==A.placeholder)for(var n=0;n<g.length;n++){var i=t(g[n]);null===A.defaultImage||i.attr("src")||i.attr("src",A.defaultImage),null===A.placeholder||i.css("background-image")&&"none"!=i.css("background-image")||i.css("background-image","url("+A.placeholder+")")}A.delay>=0&&setTimeout(function(){a(!0)},A.delay),(A.delay<0||A.combined)&&(a(!1),m(function(){t(A.appendScroll).bind("scroll",f(A.throttle,function(){m(function(){a(!1)},this,!0)}))},this),m(function(){t(A.appendScroll).bind("resize",f(A.throttle,function(){p=y=-1,m(function(){a(!1)},this,!0)}))},this))}function a(e){if(g.length){for(var n=!1,i=0;i<g.length;i++)!function(){var r=g[i],o=t(r);if(u(r)||e){var a=r.tagName.toLowerCase();!o.attr(A.attribute)||!("img"==a&&o.attr(A.attribute)!=o.attr("src")||"img"!=a&&o.attr(A.attribute)!=o.css("background-image"))||o.data(A.handledName)||!o.is(":visible")&&A.visibleOnly||(n=!0,o.data(A.handledName,!0),m(function(){l(o,a)},this))}}();n&&m(function(){g=t(g).filter(function(){return!t(this).data(A.handledName)})},this)}}function l(n,i){var r=t(new Image);++v,A.onError?r.error(function(){s(A.onError,n),h()}):r.error(function(){h()});var o=!1;r.one("load",function(){var t=function(){return o?(n.hide(),"img"==i?n.attr("src",r.attr("src")):n.css("background-image","url("+r.attr("src")+")"),n[A.effect](A.effectTime),A.removeAttribute&&(n.removeAttr(A.attribute),n.removeAttr(A.retinaAttribute)),s(A.afterLoad,n),r.unbind("load").remove(),void h()):void e.setTimeout(t,100)};t()}),s(A.beforeLoad,n),r.attr("src",E&&n.attr(A.retinaAttribute)?n.attr(A.retinaAttribute):n.attr(A.attribute)),s(A.onLoad,n),o=!0,r.complete&&r.load()}function u(t){var e=c(),n=d(),i=t.getBoundingClientRect(),r=n+A.threshold>i.top&&-A.threshold<i.bottom,o=e+A.threshold>i.left&&-A.threshold<i.right;return"vertical"==A.scrollDirection?r:"horizontal"==A.scrollDirection?o:r&&o}function c(){return p>=0?p:p=e.innerWidth||n.documentElement.clientWidth||n.body.clientWidth||n.body.offsetWidth||A.fallbackWidth}function d(){return y>=0?y:y=e.innerHeight||n.documentElement.clientHeight||n.body.clientHeight||n.body.offsetHeight||A.fallbackHeight}function f(t,e){function n(){function n(){o=+new Date,e.apply(i)}var a=+new Date-o;r&&clearTimeout(r),a>t||!A.enableThrottle?n():r=setTimeout(n,t-a)}var r,o=0;return n}function h(){--v,g.size()||v||s(A.onFinishedAll,null)}function s(t,e){t&&(e?m(function(){t(e)},this):m(t,this))}function b(){k=setTimeout(function(){m(),w.length&&b()},2)}function m(t,n,i){if(t)return A.enableQueueing?((!i||i&&!L)&&(w.push([t,n,i]),i&&(L=!0)),void(1==w.length&&b())):void t.call(n||e);var r=w.shift();r&&(r[2]&&(L=!1),r[0].call(r[1]||e))}var A={bind:"load",threshold:500,fallbackWidth:2e3,fallbackHeight:2e3,visibleOnly:!1,appendScroll:e,scrollDirection:"both",defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",retinaAttribute:"data-retina",removeAttribute:!0,handledName:"handled",effect:"show",effectTime:0,enableThrottle:!1,throttle:250,enableQueueing:!0,beforeLoad:null,onLoad:null,afterLoad:null,onError:null,onFinishedAll:null},g=this,v=0,p=-1,y=-1,E=!1,k=null,w=[],L=!1;return function(){r&&t.extend(A,r),A.onError&&g.each(function(){var e=this;m(function(){t(e).bind("error",function(){s(A.onError,t(this))})},e)}),"load"==A.bind?t(e).load(o):"event"==A.bind&&o()}(),this},t.fn.Lazy=t.fn.lazy}(jQuery,window,document);